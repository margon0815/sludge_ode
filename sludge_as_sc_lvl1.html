<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Statischer Schlammhaushalt in einer Kläranlage</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="sludge_as_sc_lvl1_files/libs/clipboard/clipboard.min.js"></script>
<script src="sludge_as_sc_lvl1_files/libs/quarto-html/quarto.js"></script>
<script src="sludge_as_sc_lvl1_files/libs/quarto-html/popper.min.js"></script>
<script src="sludge_as_sc_lvl1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="sludge_as_sc_lvl1_files/libs/quarto-html/anchor.min.js"></script>
<link href="sludge_as_sc_lvl1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="sludge_as_sc_lvl1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="sludge_as_sc_lvl1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="sludge_as_sc_lvl1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="sludge_as_sc_lvl1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Statischer Schlammhaushalt in einer Kläranlage</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Markus Ahnert, Technische Universität Dresden, Institut für Siedlungs- und Industriewasserwirtschaft<br>
<a href="mailto:markus.ahnert@tu-dresden.de">markus.ahnert@tu-dresden.de</a></p>
<section id="einführende-erläuterungen" class="level3">
<h3 class="anchored" data-anchor-id="einführende-erläuterungen">Einführende Erläuterungen</h3>
<p>Das <a href="https://de.wikipedia.org/wiki/Belebtschlammverfahren">Belebtschlammverfahren</a> ist das am häufigsten eingesetzte Verfahren bei der biologischen Abwasserbehandlung von kommunalem Abwasser. Grundlage des Verfahrens ist die ausreichende Anreicherung von Biomasse, die den Abbau organischer Stoffe und von Stickstoffverbindungen durchführen. Zu diesem Zweck sind bei diesen Kläranlagen Belebungs- und Nachklärbecken vorhanden. Im Belebungsbecken erfolgt die biologische Umsatzreaktion, im Nachklärbecken die Abtrennung von gereinigtem Abwasser und belebtem Schlamm. Letzerer wird über den Rücklaufschlamm wieder zurück in das Belebungsbecken geführt. Ein Teil des Belebtschlamms wird als Überschussschlamm aus der Kläranlage abgezogen und in der Schlammbehandlung weiter aufbereitet. Im Belebungsbecken entsteht durch den biologischen Abbau neuer Belebschlamm. Durch verschiedene Betriebseinstellungen innerhalb der Kläranlage und durch schwankende Absetzeigenschaften des Belebtschlamms können sich dabei unterschiedliche Gleichgewichte im Schlammhaushalt zwischen Belebungs- und Nachklärbecken einstellen. Beim Betrieb der Kläranlage ist darauf zu achten, dass keine ungünstigen Zustände eintreten, die die Reinigungsleistung der Kläranlage gefährden könnten. Das nachfolgende Beispiel ist dazu gedacht, unterschiedliche Betriebszustände, deren Ursache und das Zusammenspiel verschiedener Betriebseinstellungen zu prüfen. Die folgende Abbildung zeigt die wesentlichen Stoffströme vom Zulauf des Belebungsbeckens über den Zulauf zum Nachklärbecken inkl. des Ablaufs. Außerdem sind Rücklauf- und Überschussschlammführung dargestellt. Der Schlammhaushalt wird durch folgende Stoffströme beeinflusst:</p>
<ul>
<li>Feststoffe im Zulauf</li>
<li>Biomassewachstum im Belebungsbecken</li>
<li>Abzug von Überschussschlamm</li>
<li>Feststoffe im Ablauf im gereinigten Abwasser</li>
</ul>
<p>Für die nachfolgende Berechnung wurde zur Vereinfachung angenommen, dass sich im Gleichgewichtszustand alle diese Stoffströme im Gleichgewicht stehen und sich somit gegenseitig aufheben. Daher wird durch die Einstellungen nur noch die Aufteilung des Schlammes zwischen Belebungs- und Nachklärbecken beeinflusst sowie die Eindickfähigkeit und der daraus resultierende Schlammspiegel in der Nachklärung. Die nachfolgene Berechnung ergibt den statischen Zustand des Systems. In einer weiterführenden Berechnung kann auch die <a href="https://swwdigit.de/bb_nkb2/">dynamische Reaktion des Schlammhaushaltes</a> betrachtet werden.</p>
<div class="cell">
<div class="cell-output-display">
<div class="shiny-plot-output html-fill-item" id="wwtp_complete" style="width:100%;height:400px;"></div>
</div>
</div>
</section>
<section id="übungsbeispiel" class="level3">
<h3 class="anchored" data-anchor-id="übungsbeispiel">Übungsbeispiel</h3>
<p>Wie bereits beschrieben beschränkt sich das nachfolgende Beispiel auf den Schlammkreislauf zwischen Belebungs- und Nachklärbecken. Für das Belebungsbecken wurde dabei ein Volumen von 1000 m³ in der Berechnung angesetzt, für das Nachklärbecken eine Oberfläche von 150 m². Die Konzentration des Rücklaufschlamms ist dabei abhängig von der Eindickung des Schlammes im Nachklärbecken. Je länger die Aufenthaltszeit des Schlammes im Nachklärbecken ist, umso stärker wird dieser aufkonzentriert. Folgende Betriebseinstellungen und Schlammeigenschaften können dabei über die Slider verändert werden:</p>
<section id="zulaufmenge-q" class="level4">
<h4 class="anchored" data-anchor-id="zulaufmenge-q">Zulaufmenge Q</h4>
<p>Je größer die Zulaufmenge ist, umso mehr Schlamm wird in das Nachklärbecken verlagert. Gleichzeitig beeinflusst dies die Aufenthaltszeit des Schlammes im Nachklärbecken.</p>
</section>
<section id="rücklaufverhältnis-rv" class="level4">
<h4 class="anchored" data-anchor-id="rücklaufverhältnis-rv">Rücklaufverhältnis RV</h4>
<p>Das Rücklaufverhältnis berechnet sich wie folgt: RV = Q_RS/Q und gibt an, welcher Anteil der Zulaufmenge sich im Schlammkreislauf befindet. Auch diese Größe beeinflusst die Aufenthaltszeit des Schlammes im Nachklärbecken. Das Rücklaufverhältnis wird im Rahmen der Bemessung der Anlage festgelegt und liegt zwischen 0,75 und 1,0.</p>
</section>
<section id="feststoffgehalt-im-belebungsbecken-ts_bb" class="level4">
<h4 class="anchored" data-anchor-id="feststoffgehalt-im-belebungsbecken-ts_bb">Feststoffgehalt im Belebungsbecken TS_BB</h4>
<p>Der Feststoffgehalt im Belebungsbecken ergibt sich aus den Feststoffen im Zulauf, der Schlammproduktion und dem eingestellten Schlammalter (über den Überschussschlammabzug). Bei sehr hohen Feststoffgehalten und ungünstigen Schlammeigenschaften (siehe ISV) kann die Leistungsfähigkeit des Nachklärbeckens überschritten werden. Der Schlammspiegel steigt dann soweit an, dass ein Abtrieb von Belebschlamm in den Ablauf und damit in das Gewässer erfolgt.</p>
</section>
<section id="schlammvolumenindex-isv" class="level4">
<h4 class="anchored" data-anchor-id="schlammvolumenindex-isv">Schlammvolumenindex ISV</h4>
<p>Der Schlammvolumenindex beschreibt die Eindickfähigkeit des Schlammes. Je kleiner dieser Wert liegt, umso besser. Übliche Größenordnungen für gut absetzbaren Schlamm sind 80 - 120 mL/g. Ab 150 mL/g handelt es sich um einen schlecht absetzbaren Schlamm.</p>
</section>
<section id="aufgaben" class="level4">
<h4 class="anchored" data-anchor-id="aufgaben">Aufgaben</h4>
<p>Verschaffen sie sich einen Eindruck über die Wirkung und die gegenseitigen Abhängigkeiten der einzelnen Einstellparameter.</p>
<p>Das Nachklärbecken weist eine Tiefe von 4 m auf. Finden sie Einstellungen für TS_BB und ISV, die zu einem wahrscheinlichen Schlammabtrieb führen können.</p>
<p>Welcher minimale Schlammspiegel stellt sich bei folgenden Einstellparametern ein: Q = 1000 m³/d / RV = 0,75 / TS_BB = 3,5 g/L (wie ist in diesem Fall der Parameter ISV zu wählen?)</p>
<div class="cell">
<div class="cell-output-display">
<div class="container-fluid">
<div class="row">
<div class="col-sm-6">
<div class="form-group shiny-input-container">
<label class="control-label" id="Q-label" for="Q">Zulaufmenge Q [m³/d]:</label>
<input class="js-range-slider" id="Q" data-skin="shiny" data-min="100" data-max="20000" data-from="1000" data-step="100" data-grid="true" data-grid-num="9.95" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
<div class="slider-animate-container">
<a href="#" class="slider-animate-button" data-target-id="Q" data-interval="300" data-loop="TRUE">
<span class="play">
<i aria-label="play icon" class="glyphicon glyphicon-play" role="presentation"></i>
</span>
<span class="pause">
<i aria-label="pause icon" class="glyphicon glyphicon-pause" role="presentation"></i>
</span>
</a>
</div>
</div>
</div>
<div class="col-sm-6">
<div class="form-group shiny-input-container">
<label class="control-label" id="RV-label" for="RV">Rücklaufverhältnis RV [-]:</label>
<input class="js-range-slider" id="RV" data-skin="shiny" data-min="0.5" data-max="1" data-from="1" data-step="0.05" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
<div class="slider-animate-container">
<a href="#" class="slider-animate-button" data-target-id="RV" data-interval="300" data-loop="TRUE">
<span class="play">
<i aria-label="play icon" class="glyphicon glyphicon-play" role="presentation"></i>
</span>
<span class="pause">
<i aria-label="pause icon" class="glyphicon glyphicon-pause" role="presentation"></i>
</span>
</a>
</div>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-6">
<div class="form-group shiny-input-container">
<label class="control-label" id="XBB-label" for="XBB">TS-Gehalt Belebungsbecken TS_BB [g/L]:</label>
<input class="js-range-slider" id="XBB" data-skin="shiny" data-min="1" data-max="5" data-from="3" data-step="0.1" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
<div class="slider-animate-container">
<a href="#" class="slider-animate-button" data-target-id="XBB" data-interval="300" data-loop="TRUE">
<span class="play">
<i aria-label="play icon" class="glyphicon glyphicon-play" role="presentation"></i>
</span>
<span class="pause">
<i aria-label="pause icon" class="glyphicon glyphicon-pause" role="presentation"></i>
</span>
</a>
</div>
</div>
</div>
<div class="col-sm-6">
<div class="form-group shiny-input-container">
<label class="control-label" id="ISV-label" for="ISV">Schlammvolumenindex ISV [mL/kg]:</label>
<input class="js-range-slider" id="ISV" data-skin="shiny" data-min="50" data-max="200" data-from="100" data-step="5" data-grid="true" data-grid-num="10" data-grid-snap="false" data-prettify-separator="," data-prettify-enabled="true" data-keyboard="true" data-data-type="number">
<div class="slider-animate-container">
<a href="#" class="slider-animate-button" data-target-id="ISV" data-interval="300" data-loop="TRUE">
<span class="play">
<i aria-label="play icon" class="glyphicon glyphicon-play" role="presentation"></i>
</span>
<span class="pause">
<i aria-label="pause icon" class="glyphicon glyphicon-pause" role="presentation"></i>
</span>
</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="shiny-plot-output html-fill-item" id="wwtp_simple1" style="width:100%;height:400px;"></div>
</div>
</div>
<p>Anmerkung: Durch den Berechnungsalgorithmus erfolgt am Anfang ein Einschwingen des zu lösenden Gleichungssystems. Dabei wird die Schlammmasse im Nachklärbecken und der TS-Gehalt im Belebungsbecken gegeneinander abgeglichen. Daher können dann in der Ergebnisanzeige im Bild geringfügige Abweichungen zum TS-Gehalt im Belebungsbecken TS_BB auftreten, die als Parameter eingestellt wurden. Dies hat rein numerische Gründe und ist vernachlässigbar.</p>
<p>
<script type="application/shiny-prerendered" data-context="server-start">
library("shiny")
library("knitr")
library("jpeg")
library("deSolve")
library("Ecfun")


# conceptual model for dynamic system of activated sludge reactor and secondary 
# clarifier with variable sludge height based on Krebs et al., 2000

# Markus Ahnert, Dresden University of Technology, Institute for Urban Water Management
# markus.ahnert@tu-dresden.de

image_complete <- readJPEG("www/as_sc_scheme_complete.jpg") ## Bild nur am Anfang einlesen, spart Rechenzeit
image_simple1 <- readJPEG("www/as_sc_scheme_simple1.jpg") 

t_start <- 0 # start time
t_end <- 5 # end time
t_points <- seq(t_start, t_end, by = 0.5) # time points for solution

# ode function
source("func_sludge_ode.R")


</script>
 
<script type="application/shiny-prerendered" data-context="server">
#
# zur Erklaerung was #|context:server bedeutet
# siehe https://quarto.org/docs/interactive/shiny/execution.html

output$wwtp_complete <- renderPlot({
  # plot ohne Inhalt aber mit bekannten Koordinaten
  par(mar=c(0,0,0,0))
  plot(NA, type="n", xlim=c(0,10), ylim=c(0,10), axes=FALSE, xlab="", ylab="")
  # die usr-Koordinaten sind die echten Koordinaten, inklusive Reserve, die
  # R automatisch hinzufuegt
  lim <- par("usr")

  # image auf volle Groesse des Plots als Hintergrundbild setzen
  rasterImageAdj(image_complete, xleft=lim[1], ybottom=lim[3], xright=lim[2], ytop=lim[4])

  # jetzt kann man beliebige Sachen irgendwo hinschreiben,
  # und zwar mit normalem R ohne html-Tricks
  box(lwd=1)
})
</script>
 
<script type="application/shiny-prerendered" data-context="server">
ode_result <- reactive({

# get parameters from sliders, some are fixed  
params <- c(Q = input$Q, R=input$RV, V_BB=1000, A_NKB=150, DSVI=input$ISV )

# initial state
X_BB0 <- input$XBB # get it from slider

Ms_NKB0 <- unname((9e-7)*(input$XBB*input$ISV)^3.319)
state_0 <- c(X_BB=X_BB0, Ms_NKB = Ms_NKB0) # empirical estimation of start mass in SC

# function for dynamic inflow rate with constant values for steady state solution
fQ <- 1
influentdata <- data.frame(time = c(0, 2, 3, 100) ,
                           value = c(params["Q"], fQ*params["Q"], params["Q"], params["Q"]))
influentfun <- approxfun(influentdata, method="constant")

# solving ode system
out <- ode(y = state_0, times = t_points, func = sludge_ode, parms = params, influentfcn=influentfun)

})


output$wwtp_simple1 <- renderPlot({

  # Ergebnisse holen
  out <- ode_result()
  X_BBend <- out[nrow(out),2]
  X_Rend <- out[nrow(out),5]
  hsend <- out[nrow(out),6]
  Q_Rend <- input$Q*input$RV
  
  # plot ohne Inhalt aber mit bekannten Koordinaten
  par(mar=c(0,0,0,0))
  plot(NA, type="n", xlim=c(0,10), ylim=c(0,10), axes=FALSE, xlab="", ylab="")
  # die usr-Koordinaten sind die echten Koordinaten, inklusive Reserve, die
  # R automatisch hinzufuegt
  lim <- par("usr")   
  xmin <- par("usr")[1]   
  xmax <- par("usr")[2]   
  ymin <- par("usr")[3]   
  ymax <- par("usr")[4]
  
  # image auf volle Groesse des Plots als Hintergrundbild setzen
  rasterImageAdj(image_simple1, xleft=lim[1], ybottom=lim[3], xright=lim[2], ytop=lim[4])

  # jetzt kann man beliebige Sachen irgendwo hinschreiben,
  # und zwar mit normalem R ohne html-Tricks
  box(lwd=1)
  text(5.6, 1.1, paste(round(Q_Rend,digits=0),"m³/d"), cex=2, col="firebrick", font=4)
  text(5.6, 2.1, paste(round(X_Rend,digits=2),"g/L"), cex=2, col="firebrick", font=4)
  text(2.75,6, paste(round(X_BBend, digits=2),"g/L"), cex=2, col="firebrick", font=4)
  text(6.5,6, paste(round(hsend, digits=2),"m"), cex=2, col="firebrick", font=4)

})
</script>
 
<script type="application/shiny-prerendered" data-context="server-extras">
ojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {
  quos <- rlang::enquos(...)
  vars <- rlang::list2(...)
  nm <- names(vars)
  if (is.null(nm)) {
    nm <- rep_len("", length(vars))
  }
  mapply(function(q, nm, val) {
    # Infer name, if possible
    if (nm == "") {
      tryCatch({
        nm <- rlang::as_name(q)
      }, error = function(e) {
        code <- paste(collapse = "\n", deparse(rlang::f_rhs(q)))
        stop("ojs_define() could not create a name for the argument: ", code)
      })
    }
    .session$output[[nm]] <- val
    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)
    .session$sendCustomMessage("ojs-export", list(name = nm))
    NULL
  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)
  invisible()
}
</script>
</p>
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["3.6.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[false]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-javascript"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/ion.rangeSlider.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["strftime"]},{"type":"character","attributes":{},"value":["0.9.2"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/strftime"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["strftime-min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["ionrangeslider-css"]},{"type":"character","attributes":{},"value":["2.3.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/ionrangeslider"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/ion.rangeSlider.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.4.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["www/shared/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","accessibility/js/bootstrap-accessibility.min.js"]},{"type":"character","attributes":{},"value":["css/bootstrap.min.css","accessibility/css/bootstrap-accessibility.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["shiny"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.7.5.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->

<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73]}},"value":[{"type":"character","attributes":{},"value":["base","bitops","BMA","bslib","cachem","cli","cluster","colorspace","compiler","datasets","DEoptimR","deSolve","digest","Ecfun","ellipsis","evaluate","fastmap","fda","fds","glue","graphics","grDevices","grid","hdrcde","htmltools","htmlwidgets","httpuv","httr","inline","jpeg","jquerylib","jsonlite","KernSmooth","knitr","ks","later","lattice","leaps","lifecycle","magrittr","MASS","Matrix","mclust","memoise","methods","mime","mvtnorm","pcaPP","pracma","promises","R6","rainbow","Rcpp","RCurl","rlang","rmarkdown","robustbase","rrcov","rstudioapi","rvest","sass","shiny","splines","stats","stats4","survival","TeachingDemos","tools","utils","xfun","xml2","xtable","yaml"]},{"type":"character","attributes":{},"value":["4.3.2","1.0-7","3.18.17","0.5.1","1.0.8","3.6.1","2.1.4","2.1-0","4.3.2","4.3.2","1.1-3","1.38","0.6.33","0.3-2","0.3.2","0.23","1.1.1","6.1.4","1.8","1.6.2","4.3.2","4.3.2","4.3.2","3.4","0.5.7","1.6.2","1.6.12","1.4.7","0.3.19","0.1-10","0.1.4","1.8.7","2.23-22","1.45","1.14.1","1.3.1","0.22-5","3.1","1.0.4","2.0.3","7.3-60","1.6-2","6.0.1","2.0.1","4.3.2","0.12","1.2-4","2.0-4","2.4.4","1.2.1","2.5.1","3.7","1.0.11","1.98-1.13","1.1.2","2.25","0.99-1","1.7-4","0.15.0","1.0.3","0.4.7","1.7.5.1","4.3.2","4.3.2","4.3.2","3.5-7","2.12","4.3.2","4.3.2","0.41","1.3.5","1.8-4","2.3.7"]}]}]}
</script>
<!--/html_preserve-->
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>